<!DOCTYPE html>
<html lang="en">

<head>

    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">


    <!-- Favicon -->
    <link rel="shortcut icon" type="image/x-icon" href="../../assets/img/favicon.png">

    <title>Личный кабинет | Пользователя</title>

    <!-- vendor css -->
    <link href="lib/@fortawesome/fontawesome-free/css/all.min.css" rel="stylesheet">
    <link href="lib/ionicons/css/ionicons.min.css" rel="stylesheet">
    <link href="lib/jqvmap/jqvmap.min.css" rel="stylesheet">

    <!-- DashForge CSS -->
    <link rel="stylesheet" href="assets/css/dashforge.css">
    <link rel="stylesheet" href="assets/css/dashforge.dashboard.css">
    <link rel="stylesheet" href="assets/css/dashforge.contacts.css">
</head>

<body class="page-profile" id="body">

    <header class="navbar navbar-header navbar-header-fixed">
        <a href="" id="mainMenuOpen" class="burger-menu"><i data-feather="menu"></i></a>
        <div class="navbar-brand">
            <a href="../../index.html" class="df-logo">VD<span>Company</span></a>
        </div><!-- navbar-brand -->
        <div id="navbarMenu" class="navbar-menu-wrapper">
            <div class="navbar-menu-header">
                <a href="../../index.html" class="df-logo">VD<span>Company</span></a>
                <a id="mainMenuClose" href=""><i data-feather="x"></i></a>
            </div><!-- navbar-menu-header -->
            <ul class="nav navbar-menu">
                <li class="nav-label pd-l-20 pd-lg-l-25 d-lg-none">Меню</li>
                <li class="nav-item ">
                    <a href="" class="nav-link"> Открыть дело</a>
                </li>
                <li class="nav-item ">
                    <a href="" class="nav-link"> Мои дела</a>
                </li>
                <li class="nav-item ">
                    <a href="" class="nav-link"> Мои счета</a>
                </li>
                <li class="nav-item">
                    <a href="" class="nav-link"><i data-feather="layers"></i> Контакты</a>
                </li>
                <li class="nav-item">
                    <a href="../../components/" class="nav-link"><i data-feather="box"></i> Юристы</a>
                </li>
                <li class="nav-item">
                    <a href="../../collections/" class="nav-link">
                        <i data-feather="archive"></i>
                        Политика ПДН
                    </a>
                </li>
            </ul>
        </div><!-- navbar-menu-wrapper -->
        <div class="navbar-right">
            <div class="dropdown dropdown-message">
                <a href="" class="dropdown-link new-indicator" data-toggle="dropdown">
                    <i data-feather="message-square"></i>
                    <span>5</span>
                </a>
                <div class="dropdown-menu dropdown-menu-right">
                    <div class="dropdown-header">Уведомления</div>
                    <a href="" class="dropdown-item">
                        <div class="media">

                            <div class="media-body mg-l-15">
                                <strong>Socrates Itumay</strong>
                                <p>nam libero tempore cum so...</p>
                                <span>Mar 15 12:32pm</span>
                            </div><!-- media-body -->
                        </div><!-- media -->
                    </a>
                </div><!-- dropdown-menu -->
            </div><!-- dropdown -->

        </div><!-- navbar-right -->
    </header><!-- navbar -->
    <div class="content content-fixed">
        <div class="container pd-x-0 pd-lg-x-10 pd-xl-x-0">
            <div class="d-sm-flex align-items-center justify-content-between mg-b-20 mg-lg-b-25 mg-xl-b-30">
                <div>
                    <nav aria-label="breadcrumb">
                        <ol class="breadcrumb breadcrumb-style1 mg-b-10">
                            <li class="breadcrumb-item"><a href="#">Личный кабинет</a></li>
                            <li class="breadcrumb-item active" aria-current="page">Юристы VDCompany</li>
                        </ol>
                    </nav>
                    <h4 class="mg-b-0 tx-spacing--1">Просмотр всех контактов компании</h4>
                </div>
                <div class="d-none d-md-block">
                    <button class="btn btn-sm pd-x-15 btn-primary btn-uppercase mg-l-5">
                        <i data-feather="clipboard"
                           class="wd-10 mg-r-5"></i> Мои дела
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div id="laws">

    </div>
    <!--MAINPAGE-->
    <div class="content content-fixed content-auth-alt">
        <div class="container d-flex justify-content-center ht-100p">
            <div class="card wd-sm-50p wd-md-40p">
                <img src="assets/img/placehold.jpg" style="height:147px;" class="card-img-top" alt="...">
                <div class="card-body">
                    <h5 class="card-title" id="name">Card title</h5>
                    <p class="card-text" id="about"></p>
                    <a href="#" class="btn btn-primary" id="button">Go somewhere</a>
                </div>
            </div>

            <div class="card wd-sm-50p wd-md-40p">
                <img src="assets/img/placehold.jpg" class="card-img-top" alt="...">
                <div class="card-body">
                    <h5 class="card-title">Card title</h5>
                    <p class="card-text">
                        Some quick example text to build on the card title and make up the bulk of the
                        card's
                        content.
                    </p>
                    <a href="#" class="btn btn-primary">Go somewhere</a>
                </div>
            </div>
            <div class="card wd-sm-50p wd-md-40p">
                <img src="assets/img/placehold.jpg" class="card-img-top" alt="...">
                <div class="card-body">
                    <h5 class="card-title">Card title</h5>
                    <p class="card-text">
                        Some quick example text to build on the card title and make up the bulk of the
                        card's
                        content.
                    </p>
                    <a href="#" class="btn btn-primary">Go somewhere</a>
                </div>
            </div>
            <div class="card wd-sm-50p wd-md-40p">
                <img src="assets/img/placehold.jpg" class="card-img-top" alt="...">
                <div class="card-body">
                    <h5 class="card-title">Card title</h5>
                    <p class="card-text">
                        Some quick example text to build on the card title and make up the bulk of the
                        card's
                        content.
                    </p>
                    <a href="#" class="btn btn-primary">Go somewhere</a>
                </div>
            </div>
        </div>
    </div>

    <script src="lib/jquery/jquery.min.js"></script>
    <script src="lib/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="lib/feather-icons/feather.min.js"></script>
    <script src="lib/perfect-scrollbar/perfect-scrollbar.min.js"></script>
    <script src="lib/jquery.flot/jquery.flot.js"></script>
    <script src="lib/jquery.flot/jquery.flot.stack.js"></script>
    <script src="lib/jquery.flot/jquery.flot.resize.js"></script>
    <script src="lib/chart.js/Chart.bundle.min.js"></script>
    <script src="lib/jqvmap/jquery.vmap.min.js"></script>
    <script src="lib/jqvmap/maps/jquery.vmap.usa.js"></script>

    <script src="assets/js/dashforge.js"></script>
    <script src="assets/js/dashforge.sampledata.js"></script>

    <!-- append theme customizer -->
    <script src="lib/js-cookie/js.cookie.js"></script>
    <script src="assets/js/dashforge.settings.js"></script>
    <script>
        window.onload = function GetLawyers() {
            fetch('/User/GetLawyers', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json;charset=utf-8'
                },
            }).then(response => response.json())
                .then(result => ShowLawyers(result));
        }
        function ShowLawyers(resResponse) {
            for (var i = 4; i < resResponse.length + 4; i = i + 4) {
                document.getElementById('laws').append(InsertBlocks(resResponse, i, resResponse.length));
            }
        }
        function InsertBlocks(data, i, lenght) {
            console.log(i);
            console.log(lenght);
            console.log(data[i]);
            var wrapperMain = CreateWrapp();
            var wrapper = CreateContainer();
            if (i - 4 < lenght) {
                var element2 = CreateElements(data[i - 4]);
                wrapper.append(element2);
            } 
           if (i - 3 < lenght) {
                var element3 = CreateElements(data[i - 3]);
                wrapper.append(element3);
            }
            if (i - 2 < lenght) {
                var element4 = CreateElements(data[i - 2]);
                wrapper.append(element4);
            }
           if (i - 1 < lenght) {
                var element5 = CreateElements(data[i - 1]);
                wrapper.append(element5);
            }
            wrapperMain.append(wrapper);
            return wrapperMain;
        }
        function CreateWrapp() {
            var mainWrapper = document.createElement("div");
            mainWrapper.setAttribute('class', 'content content-fixed content-auth-alt');
            return mainWrapper;
        }
        function CreateContainer() {
            var mainContainer = document.createElement("div");
            mainContainer.setAttribute('class', 'container d-flex justify-content-center ht-100p');
            return mainContainer;
        }
        function CreateElements(object) {
            var mainBlock = document.createElement("div");
            mainBlock.setAttribute('class', 'card wd-sm-50p wd-md-40p');
            var mainBlockImg = document.createElement("img");
            try {
                mainBlockImg.setAttribute('src', '../assets/images/lawyers/' + object["image"][0]["url"]);
            }
            catch {
                 mainBlockImg.setAttribute('src', 'assets/img/placehold.jpg');
            }
            mainBlockImg.setAttribute('style', 'height:50%;');
            mainBlockImg.setAttribute('class', 'card-img-top');

            var mainBlockBody = document.createElement('div');
            mainBlockBody.setAttribute('class', 'card-body');

            var mainBlockBodyName = document.createElement('h5');
            mainBlockBodyName.setAttribute('class', 'card-title');
            mainBlockBodyName.innerHTML = object["email"];

            var mainBlockBodyAbout = document.createElement('p');
            mainBlockBodyAbout.setAttribute('class', 'card-text');
            mainBlockBodyAbout.innerHTML = object["about"];

            var mainBlockBodyButton = document.createElement('a');
            mainBlockBodyButton.setAttribute('class', 'btn btn-primary');
            mainBlockBodyButton.innerHTML = object["speciality"];

            mainBlockBody.append(
                mainBlockBodyName, mainBlockBodyAbout, mainBlockBodyButton
            );
           
            mainBlock.append(mainBlockImg, mainBlockBody)           
            return mainBlock;
        }
    </script>
</body>

</html>